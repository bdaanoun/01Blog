<header class="header">
  <div class="container">
    <div class="nav">
      <div class="logo">
        <img src="/assets/logo.svg" alt="logo">
      </div>

      <!-- <div class="nav-buttons">
        <button class="btn btn-outline" routerLink="/login">Login</button>
        <button class="btn btn-outline" routerLink="/register">Register</button>
      </div> -->
    </div>
  </div>
</header>
<div class="register-container">
  <h2>Create Account</h2>

  <!-- Success Message -->
  <div class="alert alert-success" *ngIf="successMessage">
    {{ successMessage }}
  </div>

  <!-- Error Message -->
  <div class="alert alert-error" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="onSubmit()" #registerForm="ngForm">

    <!-- First Name -->
    <div class="form-group">
      <label for="username">Username *</label>
      <input type="text" id="username" name="username" [(ngModel)]="user.username"
        [class.invalid]="isFieldInvalid(user.username)" [disabled]="isLoading" required>
      <span class="error" *ngIf="isFieldInvalid(user.username)">
        Username name is required
      </span>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">Email *</label>
      <input type="email" id="email" name="email" [(ngModel)]="user.email" [class.invalid]="isFieldInvalid(user.email)"
        [disabled]="isLoading" required>
      <span class="error" *ngIf="isFieldInvalid(user.email)">
        Email is required
      </span>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label for="password">Password *</label>
      <input type="password" id="password" name="password" [(ngModel)]="user.password"
        [class.invalid]="isFieldInvalid(user.password)" [disabled]="isLoading" required>
      <span class="error" *ngIf="isFieldInvalid(user.password)">
        Password is required
      </span>
    </div>

    <!-- Confirm Password -->
    <div class="form-group">
      <label for="confirmPassword">Confirm Password *</label>
      <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="user.confirmPassword"
        [class.invalid]="isFieldInvalid(user.confirmPassword) || passwordMismatch" [disabled]="isLoading" required>
      <span class="error" *ngIf="isFieldInvalid(user.confirmPassword)">
        Please confirm your password
      </span>
      <span class="error" *ngIf="passwordMismatch">
        Passwords do not match
      </span>
    </div>

    <!-- Buttons -->
    <div class="form-actions">
      <button type="submit" class="btn-primary" [disabled]="isLoading">
        <span *ngIf="!isLoading">Register</span>
        <span *ngIf="isLoading">Registering...</span>
      </button>
      <button type="button" class="btn-secondary" (click)="resetForm()" [disabled]="isLoading">
        Clear
      </button>
    </div>

    <p class="login-link">
      Already have an account?
      <a routerLink="/login">Login here</a>
    </p>

  </form>
</div>